$(function(){$(document).on("click",".fav-lg, .fav-sm",function(){if(ebates&&ebates.user&&ebates.user.loggedIn){var e,a=jQuery(this),s=a.hasClass("fav-lg")||function(e){return!(!e.parent().hasClass("fav")||!e.parent().parent().hasClass("store"))}(a)?"store":!!a.hasClass("fav-sm")&&"coupon",o=a.data("merch"),t={store:"/my/addFavorites.do",coupon:"/my/saveCoupons.do"},n={store:"/my/removeFavorites.do",coupon:"/my/unsaveCoupons.do"},r=$("#_csrf").val(),l={store:{action:"add",sup:"sup_landing_merchant",cparent:!0,addtofav:o,_csrf:r},coupon:{msd_id:o,_csrf:r}},d={store:{action:"delete",sup:"sup_landing_merchant",cparent:!0,deletefromfav:o,_csrf:r},coupon:{delete:o,_csrf:r}};if(a.hasClass("off")?(jQuery.ajax({url:t[s],data:l[s],type:"POST"}),e=!0,a.removeClass("off").addClass("on")):(jQuery.ajax({url:n[s],data:d[s],type:"POST"}),e=!1,a.removeClass("on").addClass("off")),a.hasClass("fav-lg")){var f=a.parent().find(".fav-message");e?(f.removeClass("fav-message-show"),f.html("Love you too!").fadeIn("fast")):f.html("Miss you already!").fadeIn("fast"),setTimeout(function(){f.fadeOut("fast")},3e3)}}else ebates&&ebates.user?window.location="/auth/getLogonForm.do?pageName=/common_templates/login.vm":console&&console.log&&console.log("ebates.user object is needed");return!1})});
//# sourceMappingURL=w_favorites-750b12a817.js.map
