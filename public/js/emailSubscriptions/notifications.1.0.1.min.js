var ebates=ebates||{};ebates.TOOLTIP={classes:"absolute apotip",css:{height:"auto",top:"30px"},overlay:{use:true,opacity:0.05}};ebates.OVERLAY={classes:"fixed h-v-centered",overlay:{use:true,opacity:0.5}};ebates.PROGRESS={classes:"fixed h-v-centered sortWaitBox",overlay:{use:false}};ebates.ERROR={classes:"errorBox permanent",overlay:{use:false},scrollTo:true};ebates.SUCCESS={classes:"successBox permanent",overlay:{use:false},scrollTo:true};$.msg=function(c,d,e){e=$(e||"body");var b=null,h,g=$.extend({classes:"",css:{},overlay:{use:true,opacity:0.5},callback:$.noop,closeIn:0,animation:200,remove:true,scrollTo:false},d||ebates.OVERLAY),a=$($("#backgroundPopup")[0]||$('<div id="backgroundPopup"></div>').appendTo($("body"))),f=function(){a.fadeOut(g.animation);$(".dialog").not(".permanent, .cached").fadeOut(g.animation);g.remove&&b?b.remove():$.noop};f();if(c){b=$("<div></div>").addClass("dialog").appendTo(e).html(c).addClass(g.classes).css(g.css).fadeIn(g.animation).trigger("dialogCreated");b.close=f;h=e.offset().top-$(window).scrollTop()+b.height()-$(window).height()+40;if(g.scrollTo){if(h>0||-h+50>$(window).height()){$("html, body").animate({scrollTop:b.offset().top-10},g.animation)}}else{h>0?$("html, body").animate({scrollTop:"+="+h},g.animation):$.noop}}else{g.overlay.use=true}g.overlay.use?a.css({opacity:g.overlay.opacity,display:"block"}).fadeIn(g.animation).click(f):$.noop;g.closeIn!==0?setTimeout(f,g.closeIn):$.noop;g.callback.apply(b);return b};if($.browser.msie&&$.browser.version<8){$("body").on("dialogCreated",".dialog",function(){var a=$(this);if(a.hasClass("fixed")&&a.hasClass("h-v-centered")){a.css({top:($(window).height()-a.height())/2,left:($(window).width()-a.width())/2})}})};