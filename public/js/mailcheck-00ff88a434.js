var Kicksend={mailcheck:{threshold:3,defaultDomains:["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com","outlook.com","icloud.com"],defaultTopLevelDomains:["co.jp","co.uk","com","net","org","info","edu","gov","mil","ca"],run:function(e){e.domains=e.domains||Kicksend.mailcheck.defaultDomains,e.topLevelDomains=e.topLevelDomains||Kicksend.mailcheck.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||Kicksend.sift3Distance;var n=function(e){return e},t=e.suggested||n,i=e.empty||n,o=Kicksend.mailcheck.suggest(Kicksend.mailcheck.encodeEmail(e.email),e.domains,e.topLevelDomains,e.distanceFunction);return o?t(o):i()},suggest:function(e,n,t,i){e=e.toLowerCase();var o=this.splitEmail(e),a=this.findClosestDomain(o.domain,n,i);if(a){if(a!=o.domain)return{address:o.address,domain:a,full:o.address+"@"+a}}else{var l=this.findClosestDomain(o.topLevelDomain,t);if(o.domain&&l&&l!=o.topLevelDomain){var r=o.domain;return a=r.substring(0,r.lastIndexOf(o.topLevelDomain))+l,{address:o.address,domain:a,full:o.address+"@"+a}}}return!1},findClosestDomain:function(e,n,t){var i,o=99,a=null;if(!e||!n)return!1;t||(t=this.sift3Distance);for(var l=0;l<n.length;l++){if(e===n[l])return e;i=t(e,n[l]),i<o&&(o=i,a=n[l])}return o<=this.threshold&&null!==a&&a},sift3Distance:function(e,n){if(null==e||0===e.length)return null==n||0===n.length?0:n.length;if(null==n||0===n.length)return e.length;for(var t=0,i=0,o=0,a=0;t+i<e.length&&t+o<n.length;){if(e.charAt(t+i)==n.charAt(t+o))a++;else{i=0,o=0;for(var l=0;l<5;l++){if(t+l<e.length&&e.charAt(t+l)==n.charAt(t)){i=l;break}if(t+l<n.length&&e.charAt(t)==n.charAt(t+l)){o=l;break}}}t++}return(e.length+n.length)/2-a},splitEmail:function(e){var n=e.trim().split("@");if(n.length<2)return!1;for(var t=0;t<n.length;t++)if(""===n[t])return!1;var i=n.pop(),o=i.split("."),a="";if(0==o.length)return!1;if(1==o.length)a=o[0];else{for(var t=1;t<o.length;t++)a+=o[t]+".";o.length>=2&&(a=a.substring(0,a.length-1))}return{topLevelDomain:a,domain:i,address:n.join("@")}},encodeEmail:function(e){var n=encodeURI(e);return n=n.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}}};"undefined"!=typeof module&&module.exports&&(module.exports=Kicksend.mailcheck),"undefined"!=typeof window&&window.jQuery&&function(e){e.fn.mailcheck=function(e){var n=this;if(e.suggested){var t=e.suggested;e.suggested=function(e){t(n,e)}}if(e.empty){var i=e.empty;e.empty=function(){i.call(null,n)}}e.email=this.val(),Kicksend.mailcheck.run(e)}}(jQuery);
//# sourceMappingURL=mailcheck-00ff88a434.js.map
